<!DOCTYPE html>
<html layout:decorate="~{/layout/default_layout}" lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="/css/mypage/user/mypage.css">
</head>

<body>
	<div layout:fragment="content">


		<section class="con">
			<!-- 좌측 메뉴 -->
			<div th:replace="~{fragments/mypage_user :: mypage_user_fragment}"></div>
			<!-- 내용 -->

			<div class="content">
				<h2 class="content-main">내 정보</h2>
				<form name="form1" method="post">
					<div class="list">
						<!-- 버튼마다 수정 기능 넣어야.. -->
						<div>
							<div class="list-name">이름</div>
							<span aria-hidden="true" style="margin-left: 4rem; margin-top: 0.25rem;"></span>
							<div class="list-con" th:text="${my_info.name}"></div>
						</div>
						<div>
							<div class="list-name">이메일</div>
							<span aria-hidden="true" style="margin-left: 4rem; margin-top: 0.25rem;"></span>
							<div class="list-con" th:text="${my_info.email}"></div>
						</div>
						<div>
							<div class="list-name">비밀번호</div>
							<span aria-hidden="true" style="margin-left: 4rem; margin-top: 0.25rem;"></span>
							<div class="pw">
								<div><label for="" class="list-con">새 비밀번호</label><input type="password" name="password"
										id="pw" oninput="pwCheck()" placeholder="새 비밀번호"></div>
								<div><label for="" class="list-con">비밀번호 확인</label><input type="password" id="pwChk"
										oninput="pwCheck()" placeholder="비밀번호 확인"></div>
							</div>
							<span id="check"></span>
							<button id="updatePwBtn" class="button" th:formaction="@{/mypage/update/pw}" disabled
								onclick="updatePw()">수정</button>
						</div>

						<div>

							<div class="list-name">닉네임</div>
							<span aria-hidden="true" style="margin-left: 4rem; margin-top: 0.25rem;"></span>
							<div class="list-con"><input name="nickname" id="nickname" type="text"
									th:value="${my_info.nickname}" oninput="nicknameCheck()">
							</div>
							<span id="nicknameCheck"></span>
							<button class="button" id="updateNicknameBtn" th:formaction="@{/mypage/update/nickname}"
								disabled onclick="updateNickname()">수정</button>

						</div>

						<div class="last">
							<div class="list-name">핸드폰</div>
							<span aria-hidden="true" style="margin-left: 4rem; margin-top: 0.25rem;"></span>
							<div class="list-con"><input name="phone" id="phone" type="text" th:value="${my_info.phone}"
									oninput="phoneCheck()"></div>
							<span id="phoneCheck"></span>
							<button class="button" id="updatePhoneBtn" th:formaction="@{/mypage/update/phone}" disabled
								onclick="updatePhone()">수정</button>
						</div>
					</div>

				</form>
			
			<form name="form2" method="post" th:action="@{/leave}">
				<div class="button">
					<span>탈퇴를 원하시면 우측의 회원탈퇴 버튼을 눌러주세요</span>
					<button class="leave-btn" onclick="return confirmLeave()">회원 탈퇴</button>
				</div>
			</form>

			</div>

		</section>


		<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
		<script src="/js/mypage_check.js"></script>
		<script src="/js/open_menu.js"></script>
	</div>
</body>

</html>