<!DOCTYPE html>
<html layout:decorate="~{/layout/default_layout}" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/mypage/user/reservation_list.css">
</head>
<body>
	<div layout:fragment="content">
		<section class="con">
		     <!-- 좌측 메뉴 -->
		     <div class="left">
		        <div class="left-main">
		          <h2 class="mypage">마이페이지</h2>
		          <div class="img">
		            <img src="/static/img/hongsnow1.jpg" class="profile" alt="">
		          </div>
		          <h2 class="username" th:text="${my_info.nickname}"></h2>
		        </div>
		        <div class="left-menu">
		          <ul>
		            <a th:href="@{/mypage}" target="_self">
		              <li>내 정보</li>
		            </a>
		            <a th:href="@{/mypage/performer}" target="_self">
		              <li>공연자 정보</li>
		            </a>
		            <a th:href="@{/mypage/favorite}" target="_self">
		              <li>내 즐겨찾기</li>
		            </a>
		            <a href="#" target="_self">
		              <li class="open">예약 내역</li>
		            </a>
		            <a th:href="@{/mypage/uselist}" target="_self">
		              <li>이용 내역</li>
		            </a>
		            <a th:href="@{/mypage/review}" target="_self">
		              <li>내 리뷰</li>
		            </a>
		          </ul>
		        </div>
		      </div>
		    <!-- 내용 -->
		    <div class="content">
		      <h2 class="content-main">예약 내역</h2>
		      <!-- 여기에 th:each -->
		      <div class="list" th:each="reserve : ${reserve_list}">
		        <!-- 여기에 th:text -->
		        <div class="item">
		          <div class="hall-img">
		            <img src="/img/hallex.jpg" class="hall-thumb" alt="">
		          </div>
		          <div class="hall">
		            <div class="hall-name" th:text="${reserve.hall_name}"></div>
		            <div class="hall-loca" th:text="${reserve.address1 + ' ' + reserve.address2}"></div>
		            <div class="reserve-date" th:text="${reserve.start_date + ' ' + reserve.start_time + ' ~ ' + reserve.end_date + '  ' + reserve.end_time}"></div>
		          </div>
				  
		          <div class="button">
					<form method="post" action="/mypage/reserve/delete">
		            <!-- 약관에 따라 예약 취소 비활성화 필요 -->
		            <!-- 확인창..? -->
					<input type="hidden" name="hall_id" th:value="${reserve.hall_id}">
		            <button type="submit">예약 취소</button>
					</form>
		            <!-- 버튼 누르면 공연장 상세 페이지로.. -->
					<button onclick="openModal()">예약 정보</button>
		            <button>공연장 상세</button>
					
		          </div>
				  
		        </div>
		      </div>
		    </div>
		  </section>
		  <!-- 모달 진행중-->
		  <div id="myModal" class="modal">
	          <div class="modal-content">
	              <span class="close" onclick="closeModal()">&times;</span>
	              <!-- 모달 내용 -->
	              <p>예약 정보를 여기에 표시합니다.</p>
	          </div>
		  </div>
		  <script src="https://kit.fontawesome.com/194e6948f1.js" crossorigin="anonymous"></script>
		  <script>
	          // 모달 열기
	          function openModal() {
	              var modal = document.getElementById('myModal');
	              modal.style.display = 'block';
	          }
	  
	          // 모달 닫기
	          function closeModal() {
	              var modal = document.getElementById('myModal');
	              modal.style.display = 'none';
	          }
			  
			  window.onclick = function(event) {
	              var modal = document.getElementById('myModal');
	              if (event.target == modal) {
	                  modal.style.display = "none";
	              }
	          }
	      </script>
	  
	  </div>
    
  
</body>
</html>